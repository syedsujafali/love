<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Forever With You</title>

<style>
*{box-sizing:border-box;}

body{
    margin:0;
    min-height:100vh;
    overflow:hidden;
    font-family:'Segoe UI',sans-serif;
    background:black;
    color:white;
    display:flex;
    justify-content:center;
    align-items:center;
    text-align:center;
    padding:20px;
}

/* Galaxy Background */
body::before{
    content:"";
    position:fixed;
    width:200%;
    height:200%;
    background:radial-gradient(circle at center,#1a0033,#000000 70%);
    animation:moveGalaxy 60s linear infinite;
    z-index:-2;
}
@keyframes moveGalaxy{
    from{transform:translate(0,0);}
    to{transform:translate(-25%,-25%);}
}

/* Stars */
.star{
    position:absolute;
    width:2px;
    height:2px;
    background:white;
    border-radius:50%;
    animation:twinkle 2s infinite alternate;
}
@keyframes twinkle{
    from{opacity:0.2;}
    to{opacity:1;}
}

/* Shooting star */
.shoot{
    position:absolute;
    width:3px;
    height:3px;
    background:white;
    border-radius:50%;
    box-shadow:0 0 15px white;
    animation:shoot 1s linear forwards;
}
@keyframes shoot{
    to{transform:translate(500px,400px); opacity:0;}
}

/* Hearts */
.heart{
    position:absolute;
    font-size:clamp(16px,3vw,22px);
    animation:floatUp linear forwards;
}
@keyframes floatUp{
    to{transform:translateY(-110vh); opacity:0;}
}

/* Container */
.container{
    max-width:900px;
    width:100%;
    z-index:5;
}

/* Text */
#text{
    font-size:clamp(1.2rem,4vw,1.8rem);
    min-height:160px;
    padding:10px;
    transition:opacity 1s;
}

/* Intro name */
.introName{
    font-size:clamp(2rem,8vw,3.5rem);
    color:#ff4e50;
    text-shadow:0 0 20px #ff1493;
    animation:zoomIn 3s forwards;
}
@keyframes zoomIn{
    0%{transform:scale(0); opacity:0;}
    60%{transform:scale(1.3); opacity:1;}
    100%{transform:scale(1);}
}

/* Glow */
.glow{
    color:#ff4e50;
    text-shadow:0 0 15px #ff1493;
}

/* Buttons */
#buttons{
    margin-top:20px;
}

button{
    padding:12px 28px;
    font-size:1rem;
    border:none;
    border-radius:30px;
    cursor:pointer;
    margin:10px;
    transition:0.3s;
}

#yes{
    background:#ff4e50;
    color:white;
}

#yes:hover{
    transform:scale(1.1);
}

#no{
    background:white;
    color:black;
    position:absolute;
}

/* Big heart */
.big-heart{
    position:fixed;
    font-size:clamp(120px,25vw,180px);
    left:50%;
    top:50%;
    transform:translate(-50%,-50%) scale(0);
    animation:grow 2s forwards;
}
@keyframes grow{
    60%{transform:translate(-50%,-50%) scale(1.4);}
    100%{transform:translate(-50%,-50%) scale(1);}
}
</style>
</head>
<body>

<div class="container">
    <div id="text"></div>
    <div id="buttons"></div>
</div>

<audio id="music" loop>
<source src="https://www.bensound.com/bensound-music/bensound-romantic.mp3">
</audio>

<script>
    let name = prompt("Enter their name ‚ù§Ô∏è") || "My Love";
    let textDiv=document.getElementById("text");
    let buttonsDiv=document.getElementById("buttons");
    let music=document.getElementById("music");
    
    document.body.addEventListener("click",()=>music.play(),{once:true});
    
    /* ‚≠ê Optimized Stars (lighter) */
    for(let i=0;i<180;i++){
        let star=document.createElement("div");
        star.className="star";
        star.style.top=Math.random()*100+"%";
        star.style.left=Math.random()*100+"%";
        star.style.animationDuration=(Math.random()*2+2)+"s";
        document.body.appendChild(star);
    }
    
    /* üíñ Smooth heart rain using animation frame */
    function createHeart(){
        let h=document.createElement("div");
        h.className="heart";
        h.innerHTML="üíñ";
        h.style.left=Math.random()*100+"%";
        h.style.bottom="-20px";
        h.style.animationDuration=(Math.random()*5+6)+"s";
        document.body.appendChild(h);
        setTimeout(()=>h.remove(),10000);
    }
    
    function heartLoop(){
        createHeart();
        setTimeout(()=>requestAnimationFrame(heartLoop),400);
    }
    heartLoop();
    
    /* ‚ú® Smooth fade typing */
    function type(text,cb){
        let i=0;
        textDiv.style.opacity=0;
        setTimeout(()=>{
            textDiv.innerHTML="";
            textDiv.style.opacity=1;
            function t(){
                if(i<text.length){
                    textDiv.innerHTML+=text.charAt(i);
                    i++;
                    setTimeout(t,35);
                }else if(cb){
                    setTimeout(cb,1500);
                }
            }
            t();
        },400);
    }
    
    /* üé¨ Story Flow */
    function start(){
        textDiv.innerHTML="<div class='introName'>"+name+"</div>";
        setTimeout(scene1,3500);
    }
    
    function scene1(){ type("From the very first moment I saw you‚Ä¶",scene2); }
    function scene2(){ type("Something inside me felt different ‚ú®",scene3); }
    function scene3(){
        textDiv.innerHTML="You became my favorite hello,<br>and my hardest goodbye.<br><br>You became my happiness.";
        setTimeout(scene4,4500);
    }
    function scene4(){ type("With you‚Ä¶ ordinary days feel magical üí´",scene5); }
    function scene5(){
        textDiv.innerHTML="Your smile lights up my world üåç<br>Your voice calms my chaos üåä<br>Your presence feels like home üè°";
        setTimeout(scene6,5500);
    }
    function scene6(){ type("And now‚Ä¶ I only want one thing üíç",showProposal); }
    
    /* üíç Proposal */
    function showProposal(){
        textDiv.innerHTML="Will You Stay With Me Forever? ‚ù§Ô∏è";
        buttonsDiv.innerHTML=`<button id="yes">YES üíñ</button>
                              <button id="no">NO üíî</button>`;
    
        document.getElementById("yes").onclick=finale;
    
        let noBtn=document.getElementById("no");
    
        function moveButton(){
            noBtn.style.top=Math.random()*(window.innerHeight-60)+"px";
            noBtn.style.left=Math.random()*(window.innerWidth-120)+"px";
        }
    
        noBtn.addEventListener("mouseenter",moveButton);
        noBtn.addEventListener("touchstart",moveButton);
    }
    
    /* ‚ù§Ô∏è Finale */
    function finale(){
        buttonsDiv.innerHTML="";
        textDiv.style.opacity=0;
    
        setTimeout(()=>{
            textDiv.innerHTML=
            "I choose you.<br>Today.<br>Tomorrow.<br>And every lifetime after that.<br><br>" +
            "<span class='glow'>Forever & Always, "+name+" ‚ù§Ô∏è</span>";
            textDiv.style.opacity=1;
        },600);
    }
    
    start();
    </script>

</body>
</html>